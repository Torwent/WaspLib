<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MM2MS &mdash; WaspLib  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="&lt;no title&gt;" href="antiban.html" />
    <link rel="prev" title="RSClient" href="rsclient.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            WaspLib
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="login.html">Login</a></li>
<li class="toctree-l1"><a class="reference internal" href="depositbox.html">DepositBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="xpbar.html">XPDrop</a></li>
<li class="toctree-l1"><a class="reference internal" href="xpdrop.html">XPDrop</a></li>
<li class="toctree-l1"><a class="reference internal" href="furniturebuilder.html">FurnitureBuilder</a></li>
<li class="toctree-l1"><a class="reference internal" href="anvil.html">Anvil</a></li>
<li class="toctree-l1"><a class="reference internal" href="bankpin.html">BankPin</a></li>
<li class="toctree-l1"><a class="reference internal" href="silverscreen.html">SilverScreen</a></li>
<li class="toctree-l1"><a class="reference internal" href="mainscreen.html">MainScreen</a></li>
<li class="toctree-l1"><a class="reference internal" href="collectbox.html">CollectBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="bank.html">BankPin</a></li>
<li class="toctree-l1"><a class="reference internal" href="craftscreen.html">CraftScreen</a></li>
<li class="toctree-l1"><a class="reference internal" href="xpbarsetup.html">XPBar</a></li>
<li class="toctree-l1"><a class="reference internal" href="minimap.html">Minimap</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="inventory.html">Inventory</a></li>
<li class="toctree-l1"><a class="reference internal" href="magic.html">Magic</a></li>
<li class="toctree-l1"><a class="reference internal" href="logout.html">Logout</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="walker.html">Walker</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="walkerobjects.html">TRSWalkerObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="rsmonster.html">RSMonters</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="dotfilters.html">DotFilters</a></li>
<li class="toctree-l1"><a class="reference internal" href="basescript.html">BaseScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="progress.html">ProgressReport</a></li>
<li class="toctree-l1"><a class="reference internal" href="basestats.html">BaseStats</a></li>
<li class="toctree-l1"><a class="reference internal" href="rsclient.html">RSClient</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">MM2MS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#type-trsmainscreenshape">type TRSMainScreenShape</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mm2ms-setupzoom">MM2MS.SetupZoom</a></li>
<li class="toctree-l2"><a class="reference internal" href="#minimap-getfaceablepoints">Minimap.GetFaceablePoints</a></li>
<li class="toctree-l2"><a class="reference internal" href="#minimap-getcardinalpoints">Minimap.GetCardinalPoints</a></li>
<li class="toctree-l2"><a class="reference internal" href="#minimap-pointwithinzoom">Minimap.PointWithinZoom</a></li>
<li class="toctree-l2"><a class="reference internal" href="#minimap-facepoint">Minimap.FacePoint</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mainscreen-facepoint">MainScreen.FacePoint</a></li>
<li class="toctree-l2"><a class="reference internal" href="#minimap-getzoomtopoint">Minimap.GetZoomToPoint</a></li>
<li class="toctree-l2"><a class="reference internal" href="#minimap-setzoomtopoint">Minimap.SetZoomToPoint</a></li>
<li class="toctree-l2"><a class="reference internal" href="#minimap-makepointvisible">Minimap.MakePointVisible</a></li>
<li class="toctree-l2"><a class="reference internal" href="#minimap-getcuboidmsex">Minimap.GetCuboidMSEx</a></li>
<li class="toctree-l2"><a class="reference internal" href="#minimap-getcuboidms">Minimap.GetCuboidMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#minimap-gettilearrayms">Minimap.GetTileArrayMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#minimap-getcuboidarraymsex">Minimap.GetCuboidArrayMSEx</a></li>
<li class="toctree-l2"><a class="reference internal" href="#minimap-getcuboidarrayms">Minimap.GetCuboidArrayMS</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="consumables.html">Consumables</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="itemfinder.html">ItemFinder</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="loothandler.html">LootHandler</a></li>
<li class="toctree-l1"><a class="reference internal" href="rsfishinghandler.html">RSFishingHandler</a></li>
<li class="toctree-l1"><a class="reference internal" href="consumablehandler.html">ConsumableHandlers</a></li>
<li class="toctree-l1"><a class="reference internal" href="combathandler.html">CombatHandler</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="math.html">Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="utiltypes.html">Utility types, contants and variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="color.html">Color</a></li>
<li class="toctree-l1"><a class="reference internal" href="tpoint.html">TPoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="tpointarray.html">TPointArray</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="cacheparser.html">RSCacheParser</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Misc</a></li>
<li class="toctree-l1"><a class="reference internal" href="biometrics.html">Biometrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="scriptform%28utils%29.html">ScriptForm</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="formutils.html">Form Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="scriptform.html">ScriptForm</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mousezoom.html">MouseZoom</a></li>
<li class="toctree-l1"><a class="reference internal" href="mouse.html">Mouse</a></li>
<li class="toctree-l1"><a class="reference internal" href="remoteinput.html">RemoteInput</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getobject.html">Tool GetObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="codetester.html">Tool CodeTester</a></li>
<li class="toctree-l1"><a class="reference internal" href="webber.html">Tool Webber</a></li>
<li class="toctree-l1"><a class="reference internal" href="getpos.html">Tool GetPos</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapmaker.html">MapMaker</a></li>
<li class="toctree-l1"><a class="reference internal" href="polygonmaker.html">PolygonMaker</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">WaspLib</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">MM2MS</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/mm2ms.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mm2ms">
<h1>MM2MS<a class="headerlink" href="#mm2ms" title="Permalink to this heading"></a></h1>
<p>Methods to handle MM2MS (Minimap to MainScreen). Extends SRL’s MM2MS.</p>
<hr class="docutils" />
<section id="type-trsmainscreenshape">
<h2>type TRSMainScreenShape<a class="headerlink" href="#type-trsmainscreenshape" title="Permalink to this heading"></a></h2>
<p>This record holds information about the shape of a TRSWalkerObject and it’s rotation.</p>
<p>TRSMainScreenShape.Shape has 3 values, X, Y and Z. X and Y are how wide a object is, measured in game tiles.
Z is the object height which has to be guessed and tested for a good value.</p>
<p>For example, a bank chest would be roughly [1, 1, 4].
A bank booth would be roughly [1, 1, 8].</p>
<p>Angle is used to rotate an object and should be done in radians.</p>
</section>
<hr class="docutils" />
<section id="mm2ms-setupzoom">
<h2>MM2MS.SetupZoom<a class="headerlink" href="#mm2ms-setupzoom" title="Permalink to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="nc">TMM2MS</span><span class="o">.</span><span class="nf">SetupZoom</span><span class="o">;</span>
</pre></div>
</div>
<p>Wrapper procedure to easily setup MM2MS.ZoomLevel.</p>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this heading"></a></h3>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="n">MM2MS</span><span class="o">.</span><span class="n">SetupZoom</span><span class="o">;</span>
<span class="nb">WriteLn</span><span class="w"> </span><span class="n">MM2MS</span><span class="o">.</span><span class="n">ZoomLevel</span><span class="o">;</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="minimap-getfaceablepoints">
<h2>Minimap.GetFaceablePoints<a class="headerlink" href="#minimap-getfaceablepoints" title="Permalink to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSMinimap</span><span class="o">.</span><span class="nf">GetFaceablePoints</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span>
</pre></div>
</div>
<p>Gives the center point of the 8 tiles that are directly close to the player.
This are the tiles the player can “face”.</p>
</section>
<hr class="docutils" />
<section id="minimap-getcardinalpoints">
<h2>Minimap.GetCardinalPoints<a class="headerlink" href="#minimap-getcardinalpoints" title="Permalink to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSMinimap</span><span class="o">.</span><span class="nf">GetCardinalPoints</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span>
</pre></div>
</div>
<p>Gives the center point of the 4 cardinal points (North, West, South and East) that are directly close to the player.
This are the tiles the player can “face”.</p>
</section>
<hr class="docutils" />
<section id="minimap-pointwithinzoom">
<h2>Minimap.PointWithinZoom<a class="headerlink" href="#minimap-pointwithinzoom" title="Permalink to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSMinimap</span><span class="o">.</span><span class="nf">PointWithinZoom</span><span class="p">(</span><span class="n">p</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="n">Corner</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="o">;</span>
</pre></div>
</div>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSMinimap</span><span class="o">.</span><span class="nf">PointWithinZoom</span><span class="p">(</span><span class="n">p</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
</pre></div>
</div>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSMinimap</span><span class="o">.</span><span class="nf">PointWithinZoom</span><span class="p">(</span><span class="n">tpa</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
</pre></div>
</div>
<p>Method used to know if a point is within reach of the Zoom rectangle without adjusting the zoom level.
Check TRSMinimap.GetZoomRectangle for information on the Zoom rectangle.</p>
<section id="id1">
<h3>Example<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="nb">WriteLn</span><span class="w"> </span><span class="n">Minimap</span><span class="o">.</span><span class="n">PointWithinZoom</span><span class="p">([</span><span class="mi">620</span><span class="o">,</span><span class="w"> </span><span class="mi">100</span><span class="p">])</span><span class="o">;</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="minimap-facepoint">
<h2>Minimap.FacePoint<a class="headerlink" href="#minimap-facepoint" title="Permalink to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSMinimap</span><span class="o">.</span><span class="nf">FacePoint</span><span class="p">(</span><span class="n">p</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">randomness</span><span class="o">:</span><span class="w"> </span><span class="n">Int32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="o">;</span>
</pre></div>
</div>
<p>This method will rotate the camera so that <strong>P</strong> is within the zoom rectangle without adjusting the zoom level.</p>
<section id="id2">
<h3>Example<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h3>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="nb">WriteLn</span><span class="w"> </span><span class="n">Minimap</span><span class="o">.</span><span class="n">FacePoint</span><span class="p">([</span><span class="mi">620</span><span class="o">,</span><span class="w"> </span><span class="mi">100</span><span class="p">])</span><span class="o">;</span><span class="w"> </span><span class="c1">//keep in mind this example uses a static point, you will probably never do this.</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="mainscreen-facepoint">
<h2>MainScreen.FacePoint<a class="headerlink" href="#mainscreen-facepoint" title="Permalink to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSMainScreen</span><span class="o">.</span><span class="nf">FacePoint</span><span class="p">(</span><span class="n">p</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">randomness</span><span class="o">:</span><span class="w"> </span><span class="n">Int32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="o">;</span><span class="w"> </span><span class="kp">override</span><span class="o">;</span>
</pre></div>
</div>
<p>TODO: ADD THIS TO SRL.</p>
<p>Overriden for a more desirable functionality.
The original function simply makes the point be straight up of the mainscreen, without regard wether it’s visible or not.
This version of the function instead just makes sure that the point is visible as long as it <cite>Minimap.PointWithinZoom</cite> is true.</p>
</section>
<hr class="docutils" />
<section id="minimap-getzoomtopoint">
<h2>Minimap.GetZoomToPoint<a class="headerlink" href="#minimap-getzoomtopoint" title="Permalink to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSMinimap</span><span class="o">.</span><span class="nf">GetZoomToPoint</span><span class="p">(</span><span class="n">p</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">randomness</span><span class="o">:</span><span class="w"> </span><span class="n">Int32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="n">Int32</span><span class="o">;</span>
</pre></div>
</div>
<p>TODO: THIS NEEDS TO BE REWORKED. IT’S NOT RELIABLE RIGHT NOW.</p>
<p>This function gives us a zoom level where <strong>P</strong> would be visible in the MainScreen.</p>
<section id="id3">
<h3>Example<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h3>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">Minimap</span><span class="o">.</span><span class="n">GetDots</span><span class="p">(</span><span class="n">ERSMinimapDot</span><span class="o">.</span><span class="n">ITEM</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">;</span><span class="w"> </span><span class="c1">//find an item dot and returns it&#39;s coodinates.</span>
<span class="n">Options</span><span class="o">.</span><span class="n">SetZoomLevel</span><span class="p">(</span><span class="n">Minimap</span><span class="o">.</span><span class="n">ZoomToVisiblePoint</span><span class="p">(</span><span class="n">p</span><span class="p">))</span><span class="o">;</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="minimap-setzoomtopoint">
<h2>Minimap.SetZoomToPoint<a class="headerlink" href="#minimap-setzoomtopoint" title="Permalink to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSMinimap</span><span class="o">.</span><span class="nf">SetZoomToPoint</span><span class="p">(</span><span class="n">p</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">randomness</span><span class="o">:</span><span class="w"> </span><span class="n">Int32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="o">;</span>
</pre></div>
</div>
<p>TODO: ADD THIS TO SRL WHEN TRSMinimap.ZoomToVisiblePoint() WORKS PROPERLY.</p>
<p>This function adjusts the zoom level so <strong>P</strong> TRSMinimap.PointWithinZoom() is true.</p>
</section>
<hr class="docutils" />
<section id="minimap-makepointvisible">
<h2>Minimap.MakePointVisible<a class="headerlink" href="#minimap-makepointvisible" title="Permalink to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSMinimap</span><span class="o">.</span><span class="nf">MakePointVisible</span><span class="p">(</span><span class="n">p</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="o">;</span>
</pre></div>
</div>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSMinimap</span><span class="o">.</span><span class="nf">MakePointVisible</span><span class="p">(</span><span class="n">tpa</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
</pre></div>
</div>
<p>TODO: ADD THIS TO SRL WHEN TRSMinimap.ZoomToVisiblePoint() WORKS PROPERLY.</p>
<p>Uses both Minimap.ZoomToPoint() and Minimap.FacePoint() to make a point visible on the Mainscreen.</p>
</section>
<hr class="docutils" />
<section id="minimap-getcuboidmsex">
<h2>Minimap.GetCuboidMSEx<a class="headerlink" href="#minimap-getcuboidmsex" title="Permalink to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSMinimap</span><span class="o">.</span><span class="nf">GetCuboidMSEx</span><span class="p">(</span><span class="n">loc</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">shape</span><span class="o">:</span><span class="w"> </span><span class="n">TRSMainScreenShape</span><span class="o">;</span><span class="w"> </span><span class="n">startHeight</span><span class="o">:</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="o">;</span><span class="w"> </span><span class="n">offset</span><span class="o">:</span><span class="w"> </span><span class="n">Vector2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span><span class="o">;</span><span class="w"> </span><span class="n">roll</span><span class="o">:</span><span class="w"> </span><span class="kt">Single</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">$FFFF</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="n">TCuboid</span><span class="o">;</span>
</pre></div>
</div>
<p>To understand what this does, you should read about <strong>TRSMinimap.GetTileMS()</strong> and <strong>TPointArray.ConvexHull()</strong> and understand what they do.</p>
<p>To put it simply, this will will first calculate a floor rectangle with <strong>tile.Z</strong>, or <strong>height</strong> if you prefer
of 0 and then calculate the top rectangle of the <strong>tile.Z</strong> you specified.</p>
<p>After this 2 rectangles are calculated a polygon is then made out of the two, resulting in a ConvexHull which is returned.</p>
<p>This is perfect to to get an accurate bounding polygon of objects and NPCs which you can use to accurately color search after.</p>
<p>The example below will show you how it could be used to retrieve an accurate player bounding polygon.</p>
<section id="id4">
<h3>Example<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h3>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="n">P</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">Minimap</span><span class="o">.</span><span class="n">GetDots</span><span class="p">(</span><span class="n">ERSMinimapDot</span><span class="o">.</span><span class="n">PLAYER</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">;</span><span class="w">         </span><span class="c1">//find a player dot and returns it&#39;s coodinates.</span>
<span class="n">offset</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="w"> </span><span class="o">,</span><span class="w"> </span><span class="mi">2</span><span class="p">]</span><span class="o">;</span><span class="w">                                     </span><span class="c1">//Minimap dots are actually returned with a slight offset of -2, -2 when converting them to the mainscreen.</span>
<span class="n">Debug</span><span class="p">(</span><span class="n">Minimap</span><span class="o">.</span><span class="n">GetCuboidMS</span><span class="p">(</span><span class="n">P</span><span class="o">,</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">7</span><span class="p">]</span><span class="o">,</span><span class="w"> </span><span class="n">offset</span><span class="p">))</span><span class="o">;</span><span class="w">     </span><span class="c1">//This will draw a polygon around the nearest player.</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="minimap-getcuboidms">
<h2>Minimap.GetCuboidMS<a class="headerlink" href="#minimap-getcuboidms" title="Permalink to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSMinimap</span><span class="o">.</span><span class="nf">GetCuboidMS</span><span class="p">(</span><span class="n">loc</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">tile</span><span class="o">:</span><span class="w"> </span><span class="n">Vector3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">4</span><span class="p">]</span><span class="o">;</span><span class="w"> </span><span class="n">offset</span><span class="o">:</span><span class="w"> </span><span class="n">Vector2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span><span class="o">;</span><span class="w"> </span><span class="n">roll</span><span class="o">:</span><span class="w"> </span><span class="kt">Single</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">$FFFF</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span>
</pre></div>
</div>
<p>To understand what this does, you should read about <strong>TRSMinimap.GetTileMS()</strong> and <strong>TPointArray.ConvexHull()</strong> and understand what they do.</p>
<p>To put it simply, this will will first calculate a floor rectangle with <strong>tile.Z</strong>, or <strong>height</strong> if you prefer
of 0 and then calculate the top rectangle of the <strong>tile.Z</strong> you specified.</p>
<p>After this 2 rectangles are calculated a polygon is then made out of the two, resulting in a ConvexHull which is returned.</p>
<p>This is perfect to to get an accurate bounding polygon of objects and NPCs which you can use to accurately color search after.</p>
<p>The example below will show you how it could be used to retrieve an accurate player bounding polygon.</p>
<section id="id5">
<h3>Example<a class="headerlink" href="#id5" title="Permalink to this heading"></a></h3>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="n">P</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">Minimap</span><span class="o">.</span><span class="n">GetDots</span><span class="p">(</span><span class="n">ERSMinimapDot</span><span class="o">.</span><span class="n">PLAYER</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">;</span><span class="w">         </span><span class="c1">//find a player dot and returns it&#39;s coodinates.</span>
<span class="n">offset</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="w"> </span><span class="o">,</span><span class="w"> </span><span class="mi">2</span><span class="p">]</span><span class="o">;</span><span class="w">                                     </span><span class="c1">//Minimap dots are actually returned with a slight offset of -2, -2 when converting them to the mainscreen.</span>
<span class="n">Debug</span><span class="p">(</span><span class="n">Minimap</span><span class="o">.</span><span class="n">GetCuboidMS</span><span class="p">(</span><span class="n">P</span><span class="o">,</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">7</span><span class="p">]</span><span class="o">,</span><span class="w"> </span><span class="n">offset</span><span class="p">))</span><span class="o">;</span><span class="w">     </span><span class="c1">//This will draw a polygon around the nearest player.</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="minimap-gettilearrayms">
<h2>Minimap.GetTileArrayMS<a class="headerlink" href="#minimap-gettilearrayms" title="Permalink to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSMinimap</span><span class="o">.</span><span class="nf">GetTileArrayMS</span><span class="p">(</span><span class="n">locArray</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">tile</span><span class="o">:</span><span class="w"> </span><span class="n">Vector3</span><span class="o">;</span><span class="w"> </span><span class="n">offset</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span><span class="o">;</span><span class="w"> </span><span class="n">angle</span><span class="o">:</span><span class="w"> </span><span class="kt">Single</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">$FFFF</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="n">TRectArray</span><span class="o">;</span>
</pre></div>
</div>
<p>Gives you an array of rectangles of several tiles and they can be multiple tiles each.
For an explanation of parameters check Minimap.GetTileMS.</p>
<section id="id6">
<h3>Example<a class="headerlink" href="#id6" title="Permalink to this heading"></a></h3>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="n">tpa</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">Minimap</span><span class="o">.</span><span class="n">GetDots</span><span class="p">(</span><span class="n">ERSMinimapDot</span><span class="o">.</span><span class="n">NPC</span><span class="p">)</span><span class="o">;</span><span class="w">   </span><span class="c1">//find all npc dots and returns their coodinates.</span>
<span class="n">Debug</span><span class="p">(</span><span class="n">Minimap</span><span class="o">.</span><span class="n">GetTileArrayMS</span><span class="p">(</span><span class="n">P</span><span class="o">,</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="o">,</span><span class="w"> </span><span class="mi">3</span><span class="o">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]))</span><span class="o">;</span><span class="w"> </span><span class="c1">//This will draw a recangle that is 2 by 3 tiles in the mainscreen where each NPC is.</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="minimap-getcuboidarraymsex">
<h2>Minimap.GetCuboidArrayMSEx<a class="headerlink" href="#minimap-getcuboidarraymsex" title="Permalink to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSMinimap</span><span class="o">.</span><span class="nf">GetCuboidArrayMSEx</span><span class="p">(</span><span class="n">locArray</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">shapeArray</span><span class="o">:</span><span class="w"> </span><span class="n">TRSMainScreenShapeArray</span><span class="o">;</span><span class="w"> </span><span class="n">startHeights</span><span class="o">:</span><span class="w"> </span><span class="n">TDoubleArray</span><span class="o">;</span><span class="w"> </span><span class="n">offset</span><span class="o">:</span><span class="w"> </span><span class="n">Vector2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span><span class="o">;</span><span class="w"> </span><span class="n">angle</span><span class="o">:</span><span class="w"> </span><span class="kt">Single</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">$FFFF</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="n">TCuboidArray</span><span class="o">;</span>
</pre></div>
</div>
<p>Gives you an array of mainscreen polygons. Read <strong>Minimap.GetCuboidMS</strong> for more information.</p>
<section id="id7">
<h3>Example<a class="headerlink" href="#id7" title="Permalink to this heading"></a></h3>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="n">tpa</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">Minimap</span><span class="o">.</span><span class="n">GetDots</span><span class="p">(</span><span class="n">ERSMinimapDot</span><span class="o">.</span><span class="n">Player</span><span class="p">)</span><span class="o">;</span><span class="w">   </span><span class="c1">//find all player dots and returns their coodinates.</span>
<span class="n">Debug</span><span class="p">(</span><span class="n">Minimap</span><span class="o">.</span><span class="n">GetCuboidArrayMS</span><span class="p">(</span><span class="n">tpa</span><span class="o">,</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="o">,</span><span class="w"> </span><span class="mi">3</span><span class="o">,</span><span class="w"> </span><span class="mi">5</span><span class="p">]</span><span class="o">,</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="o">,</span><span class="w"> </span><span class="mi">2</span><span class="p">]))</span><span class="o">;</span><span class="w"> </span><span class="c1">//This will draw a polygon that is 2 by 3 tiles and height 5 in the mainscreen where each NPC is.</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="minimap-getcuboidarrayms">
<h2>Minimap.GetCuboidArrayMS<a class="headerlink" href="#minimap-getcuboidarrayms" title="Permalink to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSMinimap</span><span class="o">.</span><span class="nf">GetCuboidArrayMS</span><span class="p">(</span><span class="n">locArray</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">shapeArray</span><span class="o">:</span><span class="w"> </span><span class="n">TRSMainScreenShapeArray</span><span class="o">;</span><span class="w"> </span><span class="n">offset</span><span class="o">:</span><span class="w"> </span><span class="n">Vector2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span><span class="o">;</span><span class="w"> </span><span class="n">angle</span><span class="o">:</span><span class="w"> </span><span class="kt">Single</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">$FFFF</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="n">TCuboidArray</span><span class="o">;</span>
<span class="k">function</span><span class="w"> </span><span class="nc">TRSMinimap</span><span class="o">.</span><span class="nf">GetCuboidArrayMS</span><span class="p">(</span><span class="n">locArray</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">shape</span><span class="o">:</span><span class="w"> </span><span class="n">TRSMainScreenShape</span><span class="o">;</span><span class="w"> </span><span class="n">offset</span><span class="o">:</span><span class="w"> </span><span class="n">Vector2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span><span class="o">;</span><span class="w"> </span><span class="n">angle</span><span class="o">:</span><span class="w"> </span><span class="kt">Single</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">$FFFF</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="n">TCuboidArray</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
<span class="k">function</span><span class="w"> </span><span class="nc">TRSMinimap</span><span class="o">.</span><span class="nf">GetCuboidArrayMS</span><span class="p">(</span><span class="n">locArray</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">tile</span><span class="o">:</span><span class="w"> </span><span class="n">Vector3</span><span class="o">;</span><span class="w"> </span><span class="n">offset</span><span class="o">:</span><span class="w"> </span><span class="n">Vector2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span><span class="o">;</span><span class="w"> </span><span class="n">angle</span><span class="o">:</span><span class="w"> </span><span class="kt">Single</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">$FFFF</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="n">TCuboidArray</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
</pre></div>
</div>
<p>Gives you an array of mainscreen polygons. Read <strong>Minimap.GetCuboidMS</strong> for more information.</p>
<section id="id8">
<h3>Example<a class="headerlink" href="#id8" title="Permalink to this heading"></a></h3>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="n">tpa</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">Minimap</span><span class="o">.</span><span class="n">GetDots</span><span class="p">(</span><span class="n">ERSMinimapDot</span><span class="o">.</span><span class="n">Player</span><span class="p">)</span><span class="o">;</span><span class="w">   </span><span class="c1">//find all player dots and returns their coodinates.</span>
<span class="n">Debug</span><span class="p">(</span><span class="n">Minimap</span><span class="o">.</span><span class="n">GetCuboidArrayMS</span><span class="p">(</span><span class="n">tpa</span><span class="o">,</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="o">,</span><span class="w"> </span><span class="mi">3</span><span class="o">,</span><span class="w"> </span><span class="mi">5</span><span class="p">]</span><span class="o">,</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="o">,</span><span class="w"> </span><span class="mi">2</span><span class="p">]))</span><span class="o">;</span><span class="w"> </span><span class="c1">//This will draw a polygon that is 2 by 3 tiles and height 5 in the mainscreen where each NPC is.</span>
</pre></div>
</div>
<hr class="docutils" />
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="rsclient.html" class="btn btn-neutral float-left" title="RSClient" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="antiban.html" class="btn btn-neutral float-right" title="&lt;no title&gt;" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, WaspBots.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
         .wy-nav-content { max-width: none; }
  </style>



</body>
</html>